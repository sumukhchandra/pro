(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5659:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>d,routeModule:()=>h,tree:()=>c}),s(4689),s(7769),s(5866);var n=s(3191),i=s(8716),r=s(7922),a=s.n(r),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4689)),"/workspace/apps/web-next/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,7769)),"/workspace/apps/web-next/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/workspace/apps/web-next/app/page.tsx"],p="/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new n.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9879:(e,t,s)=>{Promise.resolve().then(s.bind(s,9928)),Promise.resolve().then(s.t.bind(s,9404,23))},5983:(e,t,s)=>{Promise.resolve().then(s.bind(s,3869))},8546:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},9928:(e,t,s)=>{"use strict";s.d(t,{ClientActiveLink:()=>o,SettingsPanel:()=>l});var n=s(326),i=s(434),r=s(7577),a=s(962);function l({tokenPresent:e}){let[t,s]=(0,r.useState)(!1),[l,o]=(0,r.useState)(!1);return(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[n.jsx("button",{"aria-label":"Settings",className:"btn-outline",onClick:()=>s(!0),children:"⚙"}),l&&t&&(0,a.createPortal)((0,n.jsxs)(n.Fragment,{children:[n.jsx("div",{className:"backdrop",onClick:()=>s(!1)}),(0,n.jsxs)("div",{className:"panel open",children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:12},children:[n.jsx("div",{className:"gold",style:{fontWeight:700},children:"Settings"}),n.jsx("button",{className:"btn-outline",onClick:()=>s(!1),children:"✕"})]}),n.jsx("div",{style:{padding:12,display:"grid",gap:10},children:n.jsx(i.default,{href:"/contact",className:"btn-outline",children:"Contact Us"})}),n.jsx("div",{style:{position:"absolute",bottom:12,left:12,right:12},children:e?n.jsx("form",{action:"/api/logout",method:"post",children:n.jsx("button",{className:"btn",style:{width:"100%"},children:"Logout"})}):n.jsx(i.default,{href:"/login",className:"btn",style:{display:"block",textAlign:"center"},children:"Login"})})]})]}),document.body)]})}function o({href:e,children:t}){let[s,a]=(0,r.useState)(!1);return n.jsx(i.default,{href:e,className:s?"nav-link active":"nav-link",children:t})}},3869:(e,t,s)=>{"use strict";s.d(t,{SaveButton:()=>r});var n=s(326),i=s(7577);function r({id:e,small:t}){let[s,r]=(0,i.useState)(!1),a=process.env.NEXT_PUBLIC_API_BASE||"http://localhost:4000/api";async function l(){try{(await fetch(`${a}/content/${e}/save`,{method:s?"DELETE":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}})).ok&&r(!s)}catch{}}return n.jsx("button",{onClick:l,className:t?"btn-outline":"save",children:s?"★":"☆"})}},7769:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var n=s(9510);s(7272);var i=s(7371),r=s(1615),a=s(1159),l=s(8570);let o=(0,l.createProxy)(String.raw`/workspace/apps/web-next/components/NavClient.tsx`),{__esModule:c,$$typeof:d}=o;o.default;let p=(0,l.createProxy)(String.raw`/workspace/apps/web-next/components/NavClient.tsx#SettingsPanel`),x=(0,l.createProxy)(String.raw`/workspace/apps/web-next/components/NavClient.tsx#ClientActiveLink`);function h({children:e}){return n.jsx("html",{lang:"en",children:(0,n.jsxs)("body",{children:[n.jsx(u,{}),n.jsx("div",{style:{height:60}}),n.jsx("main",{className:"container",children:e})]})})}function u(){let e=(0,r.cookies)(),t=e.get("token")?.value;return n.jsx("nav",{className:"nav",children:(0,n.jsxs)("div",{className:"nav-inner",children:[n.jsx(i.default,{href:"/",className:"logo",children:"The Golden Library"}),(0,n.jsxs)("div",{className:"nav-links",children:[n.jsx(m,{href:"/",children:"Home"}),n.jsx(m,{href:"/novels",children:"Novels"}),n.jsx(m,{href:"/ebooks",children:"E-Books"}),n.jsx(m,{href:"/comics",children:"Comics"}),n.jsx(m,{href:"/manga",children:"Manga"}),n.jsx(m,{href:"/saved",children:"Saved List"}),n.jsx(m,{href:"/community",children:"Community"})]}),n.jsx(a.Suspense,{children:n.jsx(p,{tokenPresent:!!t})})]})})}function m({href:e,children:t}){return n.jsx(x,{href:e,children:t})}},4689:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(9510),i=s(8570);let r=(0,i.createProxy)(String.raw`/workspace/apps/web-next/components/SaveButton.tsx`),{__esModule:a,$$typeof:l}=r;r.default;let o=(0,i.createProxy)(String.raw`/workspace/apps/web-next/components/SaveButton.tsx#SaveButton`);async function c(){let e=process.env.NEXT_PUBLIC_API_BASE||"http://localhost:4000/api";async function t(t){try{let s=await fetch(`${e}${t}`,{next:{revalidate:60}});return await s.json()}catch{return[]}}let[s,i,r,a]=await Promise.all([t("/content?sort=newest"),t("/content?type=comic"),t("/content?type=manga"),t("/content?type=novel")]);return(0,n.jsxs)("div",{children:[(0,n.jsxs)("section",{children:[n.jsx("div",{className:"section-title",children:"Featured"}),n.jsx("div",{className:"hscroll",children:s.slice(0,5).map(e=>(0,n.jsxs)("div",{className:"slide",style:{minWidth:"90%"},children:[n.jsx("img",{src:e.coverImageURL||"/placeholder.png",alt:e.title,style:{width:"100%",height:320,objectFit:"cover"}}),n.jsx("div",{className:"title",children:e.title}),n.jsx(o,{id:e._id})]},e._id))})]}),n.jsx(d,{title:"Trending Comics",items:i}),n.jsx(d,{title:"Manga",items:r}),n.jsx(d,{title:"Novels",items:a})]})}function d({title:e,items:t}){return(0,n.jsxs)("section",{children:[n.jsx("div",{className:"section-title",children:e}),n.jsx("div",{className:"hscroll",children:t.map(e=>(0,n.jsxs)("div",{className:"card",style:{minWidth:160},children:[n.jsx("img",{className:"card-img",src:e.coverImageURL||"/placeholder.png",alt:e.title}),(0,n.jsxs)("div",{className:"card-body",children:[n.jsx("div",{style:{fontWeight:700,color:"var(--gold)"},children:e.title}),n.jsx(o,{id:e._id,small:!0})]})]},e._id))})]})}},7272:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[633,312],()=>s(5659));module.exports=n})();