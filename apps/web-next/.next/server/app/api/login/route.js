"use strict";(()=>{var e={};e.id=740,e.ids=[740],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1610:(e,t,o)=>{o.r(t),o.d(t,{originalPathname:()=>g,patchFetch:()=>h,requestAsyncStorage:()=>u,routeModule:()=>l,serverHooks:()=>c,staticGenerationAsyncStorage:()=>d});var r={};o.r(r),o.d(r,{POST:()=>p});var n=o(9303),i=o(8716),a=o(3131),s=o(7070);async function p(e){let t=await e.formData(),o=String(t.get("email")||""),r=String(t.get("password")||""),n=process.env.NEXT_PUBLIC_API_BASE||"http://localhost:4000/api",i=await fetch(`${n}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:r})});if(!i.ok)return s.NextResponse.redirect(new URL("/login",e.url));let a=await i.json(),p=`<!doctype html><html><body style="background:#111;color:#FFD700;font-family:sans-serif;display:grid;place-items:center;height:100vh;">Logging you inâ€¦<script>localStorage.setItem('token', ${JSON.stringify(a.token)});location.href='/'</script></body></html>`,l=new s.NextResponse(p,{headers:{"Content-Type":"text/html"}});return l.cookies.set("token",a.token,{httpOnly:!0,sameSite:"lax",path:"/"}),l}let l=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/login/route",pathname:"/api/login",filename:"route",bundlePath:"app/api/login/route"},resolvedPagePath:"/workspace/apps/web-next/app/api/login/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:u,staticGenerationAsyncStorage:d,serverHooks:c}=l,g="/api/login/route";function h(){return(0,a.patchFetch)({serverHooks:c,staticGenerationAsyncStorage:d})}}};var t=require("../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),r=t.X(0,[633,972],()=>o(1610));module.exports=r})();